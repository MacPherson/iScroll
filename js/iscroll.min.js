/* iScroll plugin */

;(function(s,n){var p={vertical:function(a,e,b,g){var c=parseInt(g.css("top")),d=b.outerHeight(!0)-g.outerHeight(!0),c=0>c?0:c>d?d:c;g.css("top",c);e=a.outerHeight(!0)-e.outerHeight(!0);b=b.outerHeight(!0)-g.outerHeight(!0);a.css("top",-(e/b*c))},horizontal:function(a,e,b,g){var c=parseInt(g.css("left")),d=b.outerWidth(!0)-g.outerWidth(!0),c=0>c?0:c>d?d:c;g.css("left",c);e=a.outerWidth(!0)-e.outerWidth(!0);b=b.outerWidth(!0)-g.outerWidth(!0);a.css("left",-(e/b*c))}};$.extend($.fn,{iScroll:function(a){if(1<
$(this).length)return $(this).each(function(f,c){$.fn.iScroll.call($(c),a)});var e=$(this),b=$("."+(Boolean(a)&&a.text||"iscroll__text"),this),g=$("."+(Boolean(a)&&a.minText||"iscroll__text_min"),this),c=$("."+(Boolean(a)&&a.scrollArea||"iscroll__bt"),this),d=$("."+(Boolean(a)&&a.scroll||"iscroll__bt_drag"),this),h=Boolean(a)&&a.direction||"vertical",k=[b,g,c,d];$.extend(e.data(),{direction:h,$scrollArea:c,$scroll:d,$text:b,$minText:g});({vertical:function(){var f=g.outerHeight(!0)/b.outerHeight(!0)*
c.outerHeight(!0);d.css("height",f)},horizontal:function(){var f=g.outerWidth(!0)/b.outerWidth(!0)*c.outerWidth(!0);d.css("width",f)}})[h]();({vertical:function(){e.on("mousewheel MozMousePixelScroll",function(f){var a=(c.height()-d.height())/30;"mousewheel"===f.type?d.css("top",0<=f.originalEvent.wheelDelta?"-="+a:"+="+a):d.css("top",0>=f.originalEvent.detail?"-="+a:"+="+a);p[h].apply(e,k);f.preventDefault()});d.on("mousedown",function(a){var c=a.pageY-parseInt($(this).css("top")||0);$(n.body).on("mousemove.iScroll",
function(a){d.css("top",a.pageY-c);p[h].apply(e,k)});return!1});return this},horizontal:function(){e.on("mousewheel MozMousePixelScroll",function(a){var b=(c.width()-d.width())/30;"mousewheel"===a.type?d.css("left",0<=a.originalEvent.wheelDelta?"-="+b:"+="+b):d.css("left",0>=a.originalEvent.detail?"-="+b:"+="+b);p[h].apply(e,k);a.preventDefault()});d.on("mousedown",function(a){var b=a.pageX-parseInt($(this).css("left")||0);$(n.body).on("mousemove.iScroll",function(a){d.css("left",a.pageX-b);p[h].apply(e,
k)});return!1});return this},global:function(){$(n.body).on("mouseup",function(){$(this).off("mousemove.iScroll")});return this}})[h]().global();return $(this)},iScrollTop:function(a,e){if(1<$(this).length)return $(this).each(function(b,c){$.fn.iScrollTop.call($(c),a,e)});var b=$(this),g=$(this).data("direction"),c=$(a),d=0===a.indexOf(":");if(!d&&1>c.length)return e&&e.call(b,{done:!1,description:"Element not found. Selector: "+a}),b;var h=b.data("$text"),k=b.data("$minText"),f=b.data("$scrollArea"),
q=b.data("$scroll"),n=[h,k,f,q],l,r;if("vertical"===g){d?(":start"===a&&(l=0),":end"===a&&(l=h.height()-k.height())):l=c.position().top;var m=l/h.height(),f=f.height()*m,m={top:f};r=4*Math.abs(f-parseInt(q.css("top")))}else"horizontal"===g&&(d?(":start"===a&&(l=0),":end"===a&&(l=h.width()-k.width())):l=c.position().left,m=l/h.width(),f=f.width()*m,m={left:f},r=4*Math.abs(f-parseInt(q.css("left"))));q.animate(m,{duration:r,progress:function(){p[g].apply(b,n)},done:function(){e&&e.call(b,{done:!0,description:"End animate to "+
a+" element."})}});return $(this)}})})(this,this.document);